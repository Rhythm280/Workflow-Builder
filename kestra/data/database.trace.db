2024-11-30 12:06:02.107399+05:30 jdbc[4]: exception
org.h2.jdbc.JdbcSQLNonTransientException: General error: "java.lang.NoClassDefFoundError: org/h2/command/ddl/Analyze$SelectivityData"; SQL statement:
COMMIT [50000-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:403)
	at org.h2.command.Command.executeUpdate(Command.java:316)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.commit(JdbcConnection.java:490)
	at com.zaxxer.hikari.pool.ProxyConnection.commit(ProxyConnection.java:378)
	at com.zaxxer.hikari.pool.HikariProxyConnection.commit(HikariProxyConnection.java)
	at io.micronaut.transaction.jdbc.DataSourceTransactionManager.doCommit(DataSourceTransactionManager.java:160)
	at io.micronaut.transaction.jdbc.DataSourceTransactionManager.doCommit(DataSourceTransactionManager.java:54)
	at io.micronaut.transaction.support.AbstractTransactionOperations.commitInternal(AbstractTransactionOperations.java:379)
	at io.micronaut.transaction.support.AbstractTransactionOperations.commit(AbstractTransactionOperations.java:571)
	at io.micronaut.configuration.jooq.MicronautTransactionProvider.commit(MicronautTransactionProvider.java:62)
	at org.jooq.impl.DefaultDSLContext.lambda$transactionResult0$3(DefaultDSLContext.java:534)
	at org.jooq.impl.Tools$3$1.block(Tools.java:6369)
	at java.base/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3780)
	at java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3725)
	at org.jooq.impl.Tools$3.get(Tools.java:6366)
	at org.jooq.impl.DefaultDSLContext.transactionResult0(DefaultDSLContext.java:578)
	at org.jooq.impl.DefaultDSLContext.transactionResult(DefaultDSLContext.java:502)
	at io.kestra.jdbc.JooqDSLContextWrapper.lambda$transactionResult$2(JooqDSLContextWrapper.java:67)
	at dev.failsafe.Functions.lambda$toCtxSupplier$11(Functions.java:243)
	at dev.failsafe.Functions.lambda$get$0(Functions.java:46)
	at dev.failsafe.internal.RetryPolicyExecutor.lambda$apply$0(RetryPolicyExecutor.java:74)
	at dev.failsafe.internal.FallbackExecutor.lambda$apply$0(FallbackExecutor.java:51)
	at dev.failsafe.SyncExecutionImpl.executeSync(SyncExecutionImpl.java:187)
	at dev.failsafe.FailsafeExecutor.call(FailsafeExecutor.java:376)
	at dev.failsafe.FailsafeExecutor.get(FailsafeExecutor.java:112)
	at io.kestra.core.utils.RetryUtils$Instance.wrap(RetryUtils.java:144)
	at io.kestra.core.utils.RetryUtils$Instance.runRetryIf(RetryUtils.java:103)
	at io.kestra.jdbc.JooqDSLContextWrapper.transactionResult(JooqDSLContextWrapper.java:65)
	at io.kestra.jdbc.repository.AbstractJdbcServiceInstanceRepository.transactionResult(AbstractJdbcServiceInstanceRepository.java:192)
	at io.kestra.jdbc.repository.AbstractJdbcServiceInstanceRepository.mayTransitionServiceTo(AbstractJdbcServiceInstanceRepository.java:257)
	at io.kestra.core.repositories.ServiceInstanceRepositoryInterface.mayTransitionServiceTo(ServiceInstanceRepositoryInterface.java:99)
	at io.kestra.core.server.ServiceLivenessManager.updateServiceInstanceState(ServiceLivenessManager.java:233)
	at io.kestra.core.server.ServiceLivenessManager.lambda$onSchedule$1(ServiceLivenessManager.java:145)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at io.kestra.core.server.ServiceLivenessManager.onSchedule(ServiceLivenessManager.java:135)
	at io.kestra.core.server.AbstractServiceLivenessTask.run(AbstractServiceLivenessTask.java:61)
	at io.kestra.core.server.AbstractServiceLivenessTask.run(AbstractServiceLivenessTask.java:49)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NoClassDefFoundError: org/h2/command/ddl/Analyze$SelectivityData
	at org.h2.command.ddl.Analyze.analyzeTable(Analyze.java:192)
	at org.h2.engine.SessionLocal.analyzeTables(SessionLocal.java:730)
	at org.h2.engine.SessionLocal.commit(SessionLocal.java:704)
	at org.h2.command.dml.TransactionCommand.update(TransactionCommand.java:46)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	... 50 more
Caused by: java.lang.ClassNotFoundException: org.h2.command.ddl.Analyze$SelectivityData
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 56 more
